window.Ecom=(function(){var b=[];var c={name:function(j,i){var k=j.lang;if(k&&i.hasOwnProperty("i18n")&&i.i18n.hasOwnProperty(k)){return i.i18n[k]}else{return i.name}}};var d={methods:{}};for(var h in c){if(c.hasOwnProperty(h)){d.methods[h]=function(i){if(!i){i=this.$data}return c[h](this.Store,i)}}}var g=[d];var f=function(p,o,l){if(!Array.isArray(l)){l=[]}if(p.childNodes){for(var k=0;k<p.childNodes.length;k++){var n=p.childNodes[k];var j=n.classList;if(j){for(var m=0;m<j.length;m++){if(j[m]===o){l.push(n);break}}}f(n,o,l)}}return l};var e=function(i){var j;if(i.hasOwnProperty("el")){j=i.el}else{j=document.getElementsByTagName("BODY")[0]}var k=function(p,t){if(!p){var r,l;if(typeof t==="object"&&t!==null){i.store_id=t.store_id;i.store_object_id=t.store_object_id}var q=f(j,"_ecom-el");var u={};var s;var o;var n=function(){if(u.hasOwnProperty(s)){if(u[s].resource===o){u[s].els.push(l)}else{console.log("Ignored element, different types for same id (?):");console.log(l)}}else{u[s]={resource:o,els:[l]}}};for(r=0;r<q.length;r++){l=q[r];switch(l.dataset.type){case"product":case"brand":case"collection":case"customer":case"cart":case"order":case"application":case"store":o=l.dataset.type+"s";break;case"category":o=l.dataset.type.slice(0,-1)+"ies";break}if(o!==undefined){s=l.dataset.id;if(!s){EcomIo.mapByWindowUri(function(w,v){if(!w){if(o===v.resource){s=v._id;n()}else{console.log("Ignored element, id undefined and type does not match with URI resource:");console.log(l)}}else{console.error(w)}})}else{n()}}else{console.log("Ignored element, invalid type:");console.log(l)}}for(s in u){if(u.hasOwnProperty(s)){var m=u[s];k=function(w,v){if(!w){q=m.els;for(r=0;r<q.length;r++){a(i,q[r],v)}}else{console.error(w)}};EcomIo.getById(k,m.resource,s)}}}else{console.error(p)}};if(i.hasOwnProperty("store_id")&&i.hasOwnProperty("store_object_id")){EcomIo.init(k,i.store_id,i.store_object_id)}else{EcomIo.init(k)}};var a=function(j,l,i){i.Store=j;var k=new Vue({mixins:g,el:l,data:i});k.$destroy();l.classList.add("rendered")};c.init=function(p,q,k,o){var m,l;if(q&&k){l={store_id:parseInt(q,10),store_object_id:k};if(o){l.lang=o}b.push(l)}else{var j=document.getElementsByClassName("_ecom-store");if(Array.isArray(j)){for(m=0;m<j.length;m++){var n=j[m];l={el:n};if(n.dataset.store&&n.dataset.id){l.store_id=parseInt(n.dataset.store,10);l.store_object_id=n.dataset.id}if(n.dataset.lang){l.lang=n.dataset.lang}b.push(l)}}}if(Array.isArray(p)){for(m=0;m<p.length;m++){g.push(p[m])}}for(m=0;m<b.length;m++){e(b[m])}};c.stores=function(){return b};return c}());
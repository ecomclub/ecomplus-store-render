window.Ecom=(function(){var a=[];var b={name:function(i,h){var j=i.lang;if(j&&h.hasOwnProperty("i18n")&&h.i18n.hasOwnProperty(j)){return h.i18n[j]}else{return h.name}}};var c={methods:{}};for(var g in b){if(b.hasOwnProperty(g)){c.methods[g]=function(h){if(!h){h=this.$data}return b[g](this.Store,h)}}}var f=[c];var e=function(p,o,l,h){if(!Array.isArray(l)){l=[];if(!h){h=0}}if(p.childNodes){for(var k=0;k<p.childNodes.length;k++){var n=p.childNodes[k];var j=n.classList;if(j){for(var m=0;m<j.length;m++){if(j[m]===o){n.deep=h;l.push(n);break}}}e(n,o,l,h+1)}}return l};var d=function(h){var i;if(h.hasOwnProperty("el")){i=h.el}else{i=document.getElementsByTagName("BODY")[0]}var j=function(m,r){if(!m){if(typeof r==="object"&&r!==null){h.store_id=r.store_id;h.store_object_id=r.store_object_id}var o=e(i,"_ecom-el");o.sort(function(t,u){return u.deep-t.deep});for(var p=0;p<o.length;p++){var k=o[p];var l;var s;switch(k.dataset.type){case"product":case"brand":case"collection":case"customer":case"cart":case"order":case"application":case"store":l=k.dataset.type+"s";break;case"category":l=k.dataset.type.slice(0,-1)+"ies";break}if(l!==undefined){var q=k.dataset.id;var n=function(){s=function(v,t){if(!v){t.Store=h;var u=new Vue({mixins:f,el:k,data:t});u.$destroy();k.classList.add("rendered")}else{console.error(v)}};EcomIo.getById(s,l,q)};if(!q){EcomIo.mapByWindowUri(function(u,t){if(!u){if(l===t.resource){q=t._id;n()}else{console.log("Ignored element, id undefined and type does not match with URI resource:");console.log(k)}}else{console.error(u)}})}else{n()}}else{console.log("Ignored element, invalid type:");console.log(k)}}}else{console.error(m)}};if(h.hasOwnProperty("store_id")&&h.hasOwnProperty("store_object_id")){EcomIo.init(j,h.store_id,h.store_object_id)}else{EcomIo.init(j)}};b.init=function(o,p,j,n){var l,k;if(p&&j){k={store_id:parseInt(p,10),store_object_id:j};if(n){k.lang=n}a.push(k)}else{var h=document.getElementsByClassName("_ecom-store");if(Array.isArray(h)){for(l=0;l<h.length;l++){var m=h[l];k={el:m};if(m.dataset.store&&m.dataset.id){k.store_id=parseInt(m.dataset.store,10);k.store_object_id=m.dataset.id}if(m.dataset.lang){k.lang=m.dataset.lang}a.push(k)}}}if(Array.isArray(o)){for(l=0;l<o.length;l++){f.push(o[l])}}for(l=0;l<a.length;l++){d(a[l])}};b.stores=function(){return a};return b}());
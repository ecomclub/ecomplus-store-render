{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/typeof.js","webpack:///./src/lib/dom.js","webpack:///./src/render/index.js","webpack:///./src/methods/def/specValues.js","webpack:///./src/ecom.js","webpack:///./src/methods/index.js","webpack:///./src/methods/def/findByProperty.js","webpack:///./src/methods/def/price.js","webpack:///./src/methods/def/onPromotion.js","webpack:///./src/methods/aux/splitImgSize.js","webpack:///./src/methods/def/minQuantity.js","webpack:///./src/methods/def/specTextValue.js","webpack:///./src/render/handlers/search.js","webpack:///./src/index.js","webpack:///(webpack)/buildin/module.js","webpack:///./src/methods/def sync ^\\.\\/.*\\.js$","webpack:///./src/methods/def/alphabeticalSort.js","webpack:///./src/methods/def/filterByParentSlug.js","webpack:///./src/methods/def/findBySlug.js","webpack:///./src/methods/def/formatMoney.js","webpack:///./src/methods/def/height.js","webpack:///./src/methods/def/inStock.js","webpack:///./src/methods/def/name.js","webpack:///./src/methods/def/specValueByText.js","webpack:///./src/methods/def/splitCategoryTree.js","webpack:///./src/methods/def/variationsGrids.js","webpack:///./src/methods/def/width.js","webpack:///./src/render/store.js","webpack:///./src/lib/utils.js","webpack:///./src/render/handlers/queue.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","_typeof2","obj","iterator","constructor","_typeof","DOM","html","url","file","dom","Promise","resolve","reject","JSDOM","require","e","Error","code","fromURL","fromFile","then","document","window","location","Vue","vueMixin","methods","mounted","this","$destroy","$el","classList","add","store","el","body","Store","Ecom","stores","length","dataset","current","currentObject","template","data","payload","JSON","parse","console","log","serverRendered","script","nextSibling","tagName","innerHTML","mixins","destroyed","$mount","finally","grid","specValues","Array","isArray","specifications","concat","text","Grid","render","renderStore","init","storeId","storeObjectId","lang","store_id","parseInt","store_object_id","push","domStores","getElementsByClassName","id","promises","forEach","all","func","args","arguments","$data","apply","addVueMethod","list","prop","onPromotion","price","base_price","now","Date","price_effective_date","start","end","splitImgSize","imgBody","index","logo","sizes","size","split","min_quantity","delimiter","undefined","values","valuesString","EcomIo","presetBody","arg","prices","min","parseFloat","max","startsWith","specs","spec","charAt","toLowerCase","substr","array","searchProducts","err","error","assign","term","from","sort","ids","brands","categories","polyfill","config","errorHandler","vm","info","initPromise","ecomWait","$","ecomSkipJquery","holdReady","webpackPolyfill","deprecate","paths","children","map","./alphabeticalSort.js","./filterByParentSlug.js","./findByProperty.js","./findBySlug.js","./formatMoney.js","./height.js","./inStock.js","./minQuantity.js","./name.js","./onPromotion.js","./price.js","./specTextValue.js","./specValueByText.js","./specValues.js","./splitCategoryTree.js","./variationsGrids.js","./width.js","webpackContext","req","webpackContextResolve","keys","alphabeticalSort","a","b","results","slug","matchedCategories","category","parent","findByProperty","decimal","thousands","numFixed","isNaN","zero","toFixed","replace","minQuantity","quantity","_this","i18n","categoryTree","category_tree","trim","specTextValue","filterGrids","grids","variations","variation","specValue","filter","indexOf","getCookie","findChildsByClass","searchItems","handleQueue","container","default_lang","resource","resourceId","listAll","currentId","getCurrentObj","els","queue","graphsApi","skip","type","slice","currentObj","pathname","_id","run","mapByWindowUri","cname","cookies","cookie","ca","decodeURIComponent","substring","className","childNodes","classes","ii","graphs","ioMethod","_loop","callback","field","row","join","toUpperCase","getById"],"mappings":"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","file":"render.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 13);\n","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","'use strict'\n\n/**\n * Setup DOM object with document property.\n * Should receive only one of possible params.\n * @namespace\n * @type {function}\n * @param {string} [html] - HTML string to render\n * @param {string} [url] - Page link\n * @param {string} [file] - Path of HTML file\n * @param {object} [dom] - Parsed DOM object\n */\n\nconst DOM = (html, url, file, dom) => {\n  return new Promise((resolve, reject) => {\n    if (dom) {\n      // hard set\n      resolve(dom)\n    } else if (typeof require === 'function' && (html || url || file)) {\n      // NodeJS environment\n      // use JSDOM constructor\n      // https://github.com/jsdom/jsdom\n      const jsdom = require('jsdom')\n      const { JSDOM } = jsdom\n\n      if (html) {\n        resolve(new JSDOM(html))\n      } else {\n        // get DOM from web link or local HTML file\n        (url ? JSDOM.fromURL(url) : JSDOM.fromFile(file)).then(resolve)\n      }\n    } else {\n      reject(new Error('Cannot setup DOM'))\n    }\n  })\n\n    .then(dom => {\n      /**\n       * Document object.\n       * @type {object}\n       * @memberOf DOM\n       */\n\n      DOM.document = dom.window.document\n\n      /**\n       * Location object.\n       * @type {object}\n       * @memberOf DOM\n       */\n\n      DOM.location = dom.window.location\n\n      // pass dom to next function\n      return dom\n    })\n}\n\nif (typeof window === 'object' && window.document) {\n  // browser\n  DOM.document = window.document\n  DOM.location = window.location\n}\n\nmodule.exports = DOM\n","'use strict'\n\n// VueJS 2\nconst Vue = require('vue')\n// Ecom methods for Vue instance\nconst methods = require('./../methods/')\n\n// setup Vue mixin for all instances\nconst vueMixin = {\n  methods,\n  mounted () {\n    // destroy Vue instace after element rendering\n    this.$destroy()\n    // mark element as rendered\n    if (this.$el) {\n      this.$el.classList.add('rendered')\n    }\n  }\n}\n\n/**\n * Render specific DOM element.\n * @memberOf Ecom\n * @param {object} [store] - Store object with IDs\n * @param {object} el - DOM element object\n * @param {object} body - Body object to compose Vue instance data\n */\n\nconst render = (store, el, body) => {\n  // pass store properties to instance data\n  if (store) {\n    body.Store = store\n  }\n\n  if (typeof Ecom === 'object') {\n    // on browser\n    /* global Ecom */\n    if (!store && Ecom.stores.length) {\n      // use first recognized store\n      body.Store = Ecom.stores[0]\n    }\n    if (!Ecom.hasOwnProperty('currentObject') && el.dataset.current === 'true') {\n      // force as current object\n      Ecom.currentObject = body\n    }\n  }\n\n  // handle element data\n  let data = { body }\n  // get custom variables from data-payload\n  if (el.dataset.hasOwnProperty('payload')) {\n    try {\n      data.payload = JSON.parse(el.dataset.payload)\n    } catch (e) {\n      console.log('Ignoring invalid element payload:')\n      console.log(el)\n    }\n  }\n\n  let template\n  if (el.dataset.serverRendered) {\n    // element already rendered server side\n    // setup client side hydration\n    let script = el.nextSibling\n    if (script && script.tagName === 'SCRIPT') {\n      template = el.nextSibling.innerHTML\n      // unset to prevent Vue warn\n      delete el.dataset.serverRendered\n    }\n  }\n\n  return new Promise(resolve => {\n    if (typeof window === 'object' && window.document) {\n      // on browser\n      // create new Vue instance\n      new Vue({\n        mixins: [ vueMixin ],\n        data,\n        template,\n        destroyed: resolve\n      }).$mount(el)\n    } else {\n      // NodeJS ?\n      // handle server side rendering\n      require('./ssr')(el, data).finally(resolve)\n    }\n  })\n}\n\nmodule.exports = render\n","'use strict'\n\n/**\n * Returns array of spec objects for specified grid.\n * @memberOf Ecom.methods\n * @param {object|array} body - Product body or array of variation objects\n * @param {string} grid - Grid ID string such as 'color'\n * @returns {array}\n */\n\nconst specValues = (body, grid) => {\n  var specValues = []\n  if (Array.isArray(body)) {\n    if (body.length) {\n      if (body[0].specifications) {\n        // variations array sent as body param\n        for (var i = 0; i < body.length; i++) {\n          specValues = specValues.concat(specValues(body[i], grid))\n        }\n      } else if (body[0].text) {\n        // spec values list sent as body param\n        specValues = body\n      }\n    }\n  } else {\n    var specifications = body.specifications\n    if (specifications) {\n      for (var Grid in specifications) {\n        if (specifications.hasOwnProperty(Grid) && Grid === grid) {\n          // specification found\n          specValues = specifications[grid]\n        }\n      }\n    }\n  }\n  return specValues\n}\n\nmodule.exports = specValues\n","'use strict'\n\n// render specific element\nconst render = require('./render/')\n// render all nested elements by store\nconst renderStore = require('./render/store')\n// auxiliary methods for Vue instances\nconst methods = require('./methods/')\n\n/**\n * Stores list.\n * @memberOf Ecom\n * @type {array}\n */\n\nconst stores = []\n\n/**\n * Render entire document.\n * @memberOf Ecom\n * @param {integer} [storeId] - Store ID\n * @param {string} [storeObjectId] - 24 bytes hexadecimal Store Object ID\n * @param {string} [lang] - Force language by code such as 'en_us'\n */\n\nconst init = (storeId, storeObjectId, lang) => {\n  if (typeof window === 'object') {\n    // debug on browser\n    console.log('Init E-Com Plus store rendering')\n  }\n\n  // get document object\n  const { document } = require('./lib/dom')\n  if (!document) {\n    throw new Error('Root `document` (DOM) object is undefined or invalid')\n  }\n\n  if (storeId && storeObjectId) {\n    // set store from function params\n    let store = {\n      store_id: parseInt(storeId, 10),\n      store_object_id: storeObjectId\n    }\n    if (lang) {\n      store.lang = lang\n    }\n    stores.push(store)\n  } else {\n    // try to set store from HTML DOM\n    let domStores = document.getElementsByClassName('_ecom-store')\n    if (typeof domStores === 'object' && domStores !== null) {\n      for (let i = 0; i < domStores.length; i++) {\n        let el = domStores[i]\n        let store = { el }\n\n        // check data properties\n        if (el.dataset.store && el.dataset.id) {\n          store.store_id = parseInt(el.dataset.store, 10)\n          store.store_object_id = el.dataset.id\n        }\n        if (el.dataset.lang) {\n          store.lang = el.dataset.lang\n        }\n        stores.push(store)\n      }\n    }\n  }\n\n  // start rendering\n  let promises = []\n  stores.forEach(store => {\n    promises.push(renderStore(store))\n  })\n  // return promise resolved when all stores are rendered\n  return Promise.all(promises)\n}\n\nmodule.exports = { init, stores, render, methods }\n","'use strict'\n\n// auxiliary methods for Vue instances\nconst methods = {}\n\n/*\n * Add custom method to Vue instances.\n * @param {string} name - Name of custom method\n * @param {function} func - The method itself (function)\n */\n\nconst addVueMethod = (name, func) => {\n  methods[name] = (function () {\n    // scoped\n    return function () {\n      // convert arguments array-like object to array\n      let args = []\n      for (let i = 0; i < arguments.length; i++) {\n        args.push(arguments[i])\n      }\n      if (!args[0] && this.$data) {\n        // body\n        // send from instance data\n        args[0] = this.$data.body\n      }\n\n      // call global method\n      // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/apply\n      return func.apply(null, args)\n    }\n  }())\n}\n\n/**\n * Ecom auxiliary methods for Vue instances.\n * @namespace Ecom.methods\n */\n\nmodule.exports = methods\n\n// autoload default methods\n;[\n  'name',\n  'width',\n  'height',\n  'price',\n  'minQuantity',\n  'inStock',\n  'formatMoney',\n  'onPromotion',\n  'alphabeticalSort',\n  'findByProperty',\n  'findBySlug',\n  'filterByParentSlug',\n  'splitCategoryTree',\n  'specValues',\n  'specTextValue',\n  'specValueByText',\n  'variationsGrids'\n].forEach(name => {\n  addVueMethod(name, require('./def/' + name + '.js'))\n})\n","'use strict'\n\n/**\n * Find object from list by some property value.\n * @memberOf Ecom.methods\n * @param {array} list - List of nested objects\n * @param {string} prop - Property name\n * @param {mixed} value - Property value to be matched\n * @returns {object|undefined}\n */\n\nconst findByProperty = (list, prop, value) => {\n  // must be an array\n  if (Array.isArray(list)) {\n    for (let i = 0; i < list.length; i++) {\n      let obj = list[i]\n      if (obj && obj[prop] === value) {\n        // object found\n        return obj\n      }\n    }\n  }\n  return undefined\n}\n\nmodule.exports = findByProperty\n","'use strict'\n\nconst onPromotion = require('./onPromotion')\n\n/**\n * Returns object current price.\n * @memberOf Ecom.methods\n * @param {object} body - Object (product or variation) body\n * @returns {number}\n */\n\nconst price = body => {\n  // prefer promotional price\n  if (!body.hasOwnProperty('base_price') || onPromotion(body)) {\n    // sale price\n    return body.price || 0\n  } else {\n    return body.base_price || 0\n  }\n}\n\nmodule.exports = price\n","'use strict'\n\n/**\n * Check if item has promotional price.\n * @memberOf Ecom.methods\n * @param {object} body - Object (product or variation) body\n * @returns {boolean}\n */\n\nconst onPromotion = body => {\n  if (body.hasOwnProperty('price_effective_date')) {\n    var now = new Date()\n    if (body.price_effective_date.hasOwnProperty('start')) {\n      // start date and time in ISO 8601\n      if (new Date(body.price_effective_date.start) < now) {\n        return false\n      }\n    }\n    if (body.price_effective_date.hasOwnProperty('end')) {\n      // promotion end date and time in ISO 8601\n      if (new Date(body.price_effective_date.end) > now) {\n        return false\n      }\n    }\n  }\n  // default to no promotion\n  return !!(body.hasOwnProperty('price') && body.hasOwnProperty('base_price'))\n}\n\nmodule.exports = onPromotion\n","'use strict'\n\n/*\n * Splits image size string and returns width or height.\n * @param {object} imgBody - Image object body\n * @param {integer} index - 0 for width, 1 for height\n * @returns {string|null}\n */\n\nconst splitImgSize = (imgBody, index) => {\n  if (typeof imgBody === 'object' && imgBody !== null) {\n    if (imgBody.hasOwnProperty('size')) {\n      var sizes = imgBody.size.split('x')\n      if (sizes.length === 2) {\n        return sizes[index]\n      }\n    } else {\n      // try with 'logo' body property by default\n      return splitImgSize(imgBody.logo)\n    }\n  }\n  return null\n}\n\nmodule.exports = splitImgSize\n","'use strict'\n\n/**\n * Returns the minimum quantity to add to cart.\n * @memberOf Ecom.methods\n * @param {object} body - Object (product or variation) body\n * @returns {number}\n */\n\nconst minQuantity = body => body.min_quantity || 1\n\nmodule.exports = minQuantity\n","'use strict'\n\nconst specValues = require('./specValues')\n\n/**\n * Parse specifications array of nested objects to string.\n * @memberOf Ecom.methods\n * @param {object|array} body - Product body or array of variation objects\n * @param {string} grid - Grid ID string such as 'color'\n * @param {string} [delimiter=', '] - Delimiter between each specification\n * @returns {string|null}\n */\n\nconst specTextValue = (body, grid, delimiter = ', ') => {\n  // using text property of each spec object\n  let values = specValues(body, grid)\n  if (values.length) {\n    let valuesString = values[0].text\n    for (let i = 1; i < values.length; i++) {\n      valuesString += delimiter + values[i].text\n    }\n    return valuesString\n  }\n  // specification not found\n  return null\n}\n\nmodule.exports = specTextValue\n","'use strict'\n\n// E-Com Plus storefront SDK\nconst EcomIo = require('ecomplus-sdk')\n// render specific element\nconst render = require('./../')\n\nmodule.exports = (store, el, presetBody) => {\n  // check for search arguments\n  const arg = {}\n  for (let data in el.dataset) {\n    if (el.dataset.hasOwnProperty(data)) {\n      switch (data) {\n        case 'term':\n          arg[data] = el.dataset[data]\n          break\n\n        case 'from':\n        case 'size':\n        case 'sort':\n          arg[data] = parseInt(el.dataset[data], 10)\n          break\n\n        case 'ids':\n        case 'brands':\n        case 'categories':\n          // list separated by ,\n          // to array\n          arg[data] = el.dataset[data].split(',')\n          break\n\n        case 'priceMin':\n          if (!arg.hasOwnProperty('prices')) {\n            // preset object\n            arg.prices = {}\n          }\n          arg.prices.min = parseFloat(el.dataset[data])\n          break\n\n        case 'priceMax':\n          if (!arg.hasOwnProperty('prices')) {\n            // preset object\n            arg.prices = {}\n          }\n          arg.prices.max = parseFloat(el.dataset[data])\n          break\n\n        default:\n          // check specs\n          if (data.startsWith('spec')) {\n            if (!arg.hasOwnProperty('specs')) {\n              // preset object\n              arg.specs = {}\n            }\n            // lowercase specification name\n            // eg.: specColors -> colors\n            let spec = data.charAt(4).toLowerCase() + data.substr(5)\n            // specification value\n            let value = el.dataset[data]\n\n            if (value.charAt(0) === '[') {\n              // can be a JSON array\n              try {\n                let array = JSON.parse(value)\n                if (Array.isArray(array)) {\n                  arg.specs[spec] = array\n                }\n              } catch (e) {\n                // continue only\n              }\n            }\n            if (!arg.specs.hasOwnProperty(spec)) {\n              arg.specs[spec] = [ value ]\n            }\n          }\n      }\n    }\n  }\n\n  return new Promise(resolve => {\n    let searchCallback = (err, body) => {\n      if (!err) {\n        // console.log(body)\n        if (typeof presetBody === 'object' && presetBody !== null) {\n          // some Store API resource body\n          // merge with Search API response\n          body = Object.assign(presetBody, body)\n        }\n        render(store, el, body).then(resolve)\n      } else {\n        console.error(err)\n        // resolve the promise anyway\n        resolve()\n      }\n    }\n\n    // call Search API\n    EcomIo.searchProducts(\n      searchCallback,\n      arg.term,\n      arg.from,\n      arg.size,\n      arg.sort,\n      arg.specs,\n      arg.ids,\n      arg.brands,\n      arg.categories,\n      arg.prices\n    )\n  })\n}\n","/**\n * https://github.com/ecomclub/ecomplus-store-render\n * @author E-Com Club <ti@e-com.club>\n * @license MIT\n */\n\n'use strict'\n\nif (typeof window === 'object' && window.document) {\n  // on browser\n  if (typeof Promise === 'undefined') {\n    // polyfill Promises\n    require('es6-promise').polyfill()\n  }\n\n  // setup dependencies globally\n  let Vue\n  if (!window.Vue) {\n    Vue = require('vue')\n    window.Vue = Vue\n  } else {\n    Vue = window.Vue\n  }\n  if (!window.EcomIo) {\n    window.EcomIo = require('ecomplus-sdk')\n  }\n\n  // config global Vue constructor\n  if (Vue.config) {\n    Vue.config.errorHandler = (err, vm, info) => {\n      console.error(err)\n      // identify the instance\n      console.log('Vue instance with error, $el and $data:')\n      console.log(vm.$el)\n      console.log(vm.$data)\n      console.log(info)\n      console.log('-----//-----')\n    }\n  }\n\n  /**\n   * Ecom object with renderer methods.\n   * @namespace\n   */\n\n  const Ecom = require('./ecom')\n  window.Ecom = Ecom\n\n  // automatic handlers for browser\n  // check <body> data\n  let dataset = document.body.dataset\n  let initPromise\n  if (!dataset.ecomWait) {\n    // start renderization automatically\n    initPromise = Ecom.init()\n  }\n\n  if (typeof $ === 'function' && !dataset.ecomSkipJquery) {\n    // delay jQuery ready event to improve compatibility\n    /* global $ */\n    $.holdReady(true)\n    initPromise.then(() => $.holdReady(false))\n  }\n} else if (require.main !== module) {\n  // NodeJS ?\n\n  /**\n   * Exports function to call {@link DOM} setup and return {@link Ecom} object.\n   * @module ecomplus-render\n   * @see DOM\n   * @returns {Promise} {@link Ecom}\n   * @example require('ecomplus-render')(html).then(({ dom, Ecom }) => Ecom.init())\n   */\n\n  module.exports = function () {\n    // setup DOM\n    // bypass all arguments\n    return require('./lib/dom').apply(this, arguments).then(dom => {\n      // pass dom (jsdom) and Ecom objects to next function\n      return {\n        dom,\n        Ecom: require('./ecom')\n      }\n    })\n  }\n} else {\n  // called directly\n  // handle command line task\n  require('./cli')\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","var map = {\n\t\"./alphabeticalSort.js\": 16,\n\t\"./filterByParentSlug.js\": 17,\n\t\"./findByProperty.js\": 6,\n\t\"./findBySlug.js\": 18,\n\t\"./formatMoney.js\": 19,\n\t\"./height.js\": 20,\n\t\"./inStock.js\": 21,\n\t\"./minQuantity.js\": 10,\n\t\"./name.js\": 22,\n\t\"./onPromotion.js\": 8,\n\t\"./price.js\": 7,\n\t\"./specTextValue.js\": 11,\n\t\"./specValueByText.js\": 23,\n\t\"./specValues.js\": 3,\n\t\"./splitCategoryTree.js\": 24,\n\t\"./variationsGrids.js\": 25,\n\t\"./width.js\": 26\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 15;","'use strict'\n\n/**\n * Sort list of objects alphabetically by name property.\n * @memberOf Ecom.methods\n * @param {array|object} list - List of nested objects or object with results\n * @returns {array}\n */\n\nconst alphabeticalSort = list => {\n  if (Array.isArray(list)) {\n    // try to sort by name\n    list.sort((a, b) => {\n      if (a.name < b.name) return -1\n      return 1\n    })\n  } else if (typeof list === 'object' && list !== null) {\n    // suppose to be a 'list all' request body\n    return alphabeticalSort(list.results)\n  } else {\n    // must be an array\n    list = []\n  }\n  return list\n}\n\nmodule.exports = alphabeticalSort\n","'use strict'\n\n/**\n * Filter categories list by parent category slug.\n * @memberOf Ecom.methods\n * @param {array} categories - List of category objects\n * @param {string} slug - Parent category slug value\n * @returns {array}\n */\n\nconst filterByParentSlug = (categories, slug) => {\n  // for categories\n  // filter by parent category slug\n  let matchedCategories = []\n  if (Array.isArray(categories)) {\n    categories.forEach(category => {\n      if (category.parent && category.parent.slug === slug) {\n        matchedCategories.push(category)\n      }\n    })\n  }\n  // returns array of macthed category objects\n  return matchedCategories\n}\n\nmodule.exports = filterByParentSlug\n","'use strict'\n\nconst findByProperty = require('./findByProperty')\n\n/**\n * Find object from list by slug value.\n * @memberOf Ecom.methods\n * @param {array} list - List of nested objects\n * @param {string} slug - Object (category, brand...) slug value\n * @returns {object|undefined}\n */\n\nconst findBySlug = (list, slug) => {\n  // must be an array\n  if (Array.isArray(list)) {\n    return findByProperty(list, 'slug', slug)\n  }\n  return undefined\n}\n\nmodule.exports = findBySlug\n","'use strict'\n\nconst price = require('./price')\n\n/**\n * Parse price number to formatted string with currency symbol.\n * @memberOf Ecom.methods\n * @param {number|object} value - Price number or object (product or variation) body\n * @param {string} [decimal=','] - Decimal delimiter\n * @param {string} [thousands='.'] - Thousands delimiter\n * @param {number} [numFixed=2] - Number of decimal precision\n * @returns {string}\n */\n\nconst formatMoney = (value, decimal = ',', thousands = '.', numFixed = 2) => {\n  // price to number\n  if (typeof value === 'object') {\n    if (value !== null) {\n      // suppose to be product object\n      value = price(value)\n    }\n  } else if (typeof value === 'string') {\n    value = parseFloat(value)\n  }\n  // format price string\n  if (typeof value === 'number' && !isNaN(value)) {\n    return value.toFixed(numFixed).replace(thousands, decimal).replace(/(\\d)(?=(\\d{3})+,)/g, '$1.')\n  } else {\n    // eg.: 0,00\n    var zero = '0' + decimal\n    for (var i = 0; i < numFixed; i++) {\n      zero += '0'\n    }\n    return zero\n  }\n}\n\nmodule.exports = formatMoney\n","'use strict'\n\nconst splitImgSize = require('./../aux/splitImgSize')\n\n/**\n * Returns height (px) of image object.\n * @memberOf Ecom.methods\n * @param {object} imgBody - Image object body\n * @returns {string}\n */\n\nconst height = imgBody => splitImgSize(imgBody, 1) || ''\n\nmodule.exports = height\n","'use strict'\n\nconst minQuantity = require('./minQuantity')\n\n/**\n * Check if item has stock equal or greater than minimum quantity.\n * @memberOf Ecom.methods\n * @param {object} body - Object (product or variation) body\n * @returns {boolean}\n */\n\nconst inStock = body => {\n  // check inventory\n  if (body.hasOwnProperty('quantity')) {\n    if (body.quantity >= minQuantity(body)) {\n      // in stock\n      return true\n    }\n  } else {\n    // no stock control\n    return true\n  }\n  // out of stock\n  return false\n}\n\nmodule.exports = inStock\n","'use strict'\n\n/**\n * Returns object name by lang.\n * @memberOf Ecom.methods\n * @param {object} body - Object (product, category...) body\n * @param {string} [lang] - Language by code such as 'pt_br'\n * @returns {string}\n */\n\nconst name = (body, lang) => {\n  if (!lang && typeof this === 'object' && this !== null && this.Store) {\n    // this is the Vue instance\n    // default store lang\n    lang = this.Store.lang\n  }\n  // prefer translated item name\n  if (lang && body.hasOwnProperty('i18n') && body.i18n.hasOwnProperty(lang)) {\n    return body.i18n[lang]\n  } else {\n    return body.name || ''\n  }\n}\n\nmodule.exports = name\n","'use strict'\n\nconst specValues = require('./specValues')\n\n/**\n * Get value property of spec object based on respective text.\n * @memberOf Ecom.methods\n * @param {object|array} body - Product body or array of variation objects\n * @param {string} grid - Grid ID string such as 'color'\n * @param {string} text - Spec object text property such as 'Blue'\n * @returns {string|undefined}\n */\n\nconst specValueByText = (body, grid, text) => {\n  let values = specValues(body, grid)\n  for (var i = 0; i < values.length; i++) {\n    if (values[i].text === text) {\n      return values[i].value\n    }\n  }\n  // any spec found for received grid and option text\n  return undefined\n}\n\nmodule.exports = specValueByText\n","'use strict'\n\n/**\n * Parse category tree string to array.\n * @memberOf Ecom.methods\n * @param {object|string} body - Product object body or category tree string\n * @returns {array}\n */\n\nconst splitCategoryTree = body => {\n  let categories = []\n  let categoryTree\n  if (typeof body === 'string') {\n    // category tree string already sent as body param\n    categoryTree = body\n  } else {\n    categoryTree = body.category_tree\n  }\n  if (categoryTree) {\n    categories = categoryTree.split('>')\n    for (let i = 0; i < categories.length; i++) {\n      // remove white spaces from names\n      categories[i] = categories[i].trim()\n    }\n  }\n  // return array of categories\n  return categories\n}\n\nmodule.exports = splitCategoryTree\n","'use strict'\n\nconst specTextValue = require('./specTextValue')\n\n/**\n * Parse variations specifications to one object only.\n * @memberOf Ecom.methods\n * @param {object} body - Product body object\n * @param {object} [filterGrids] - Filter object with grids and searched values\n * @param {string} [delimiter=', '] - Delimiter between each specification\n * @returns {object}\n */\n\nconst variationsGrids = (body, filterGrids, delimiter) => {\n  let grids = {}\n  if (body.hasOwnProperty('variations')) {\n    body.variations.forEach(variation => {\n      let specifications = variation.specifications\n      // abstraction to get spec text value\n      let specValue = grid => specTextValue(variation, grid, delimiter)\n\n      if (specifications) {\n        // check if current variation specs match with filters\n        if (filterGrids) {\n          for (let filter in filterGrids) {\n            if (filterGrids.hasOwnProperty(filter)) {\n              if (!specifications[filter] || specValue(filter) !== filterGrids[filter]) {\n                // does not match filtered grid\n                // skip current variation\n                return\n              }\n            }\n          }\n        }\n\n        // get values from each variation spec\n        for (let grid in specifications) {\n          if (specifications.hasOwnProperty(grid)) {\n            let text = specValue(grid)\n            if (!grids.hasOwnProperty(grid)) {\n              grids[grid] = []\n            } else if (grids[grid].indexOf(text) !== -1) {\n              // current spec value has already been added\n              continue\n            }\n            grids[grid].push(text)\n          }\n        }\n      }\n    })\n  }\n  // returns parsed grid object\n  return grids\n}\n\nmodule.exports = variationsGrids\n","'use strict'\n\nconst splitImgSize = require('./../aux/splitImgSize')\n\n/**\n * Returns width (px) of image object.\n * @memberOf Ecom.methods\n * @param {object} imgBody - Image object body\n * @returns {string}\n */\n\nconst width = imgBody => splitImgSize(imgBody, 0) || ''\n\nmodule.exports = width\n","'use strict'\n\n// E-Com Plus storefront SDK\nconst EcomIo = require('ecomplus-sdk')\n// DOM object with document and location\nconst dom = require('./../lib/dom')\n// utility fnctions\nconst { getCookie, findChildsByClass } = require('./../lib/utils')\n// handle items search through Search API\nconst searchItems = require('./handlers/search')\n// handle Graphs API and Store API by queue\nconst handleQueue = require('./handlers/queue')\n\nmodule.exports = store => {\n  // render store in the HTML DOM\n  // search for nested objects inside store container\n  let container\n  if (store.hasOwnProperty('el')) {\n    container = store.el\n  } else {\n    // get document object\n    // <body>\n    container = dom.document.body\n  }\n  // one promise for each element to be rendered\n  let promises = []\n\n  let sdkCallback = (err, body) => {\n    if (err) {\n      console.error(err)\n    } else {\n      if (typeof body === 'object' && body !== null) {\n        // returned body from domains resource of Main API\n        // https://developers.e-com.plus/docs/reference/main/\n        store.store_id = body.store_id\n        store.store_object_id = body.store_object_id\n        if (!store.lang && body.default_lang) {\n          // use domain default language\n          store.lang = body.default_lang\n        }\n      }\n\n      // render elements\n      // https://developers.e-com.plus/ecomplus-store-template/#vue-instances\n      let els = findChildsByClass(container, '_ecom-el')\n\n      // resources queue\n      let queue = {}\n      let resource, resourceId, listAll, currentId, getCurrentObj\n\n      for (let i = 0; i < els.length; i++) {\n        let el = els[i]\n        let graphsApi = false\n        let skip = false\n        let type = el.dataset.type\n\n        // handle resource by element type\n        switch (type) {\n          case 'product':\n          case 'brand':\n          case 'collection':\n          case 'customer':\n          case 'cart':\n          case 'order':\n          case 'application':\n          case 'store':\n            // eg.: products\n            resource = type + 's'\n            break\n\n          case 'category':\n            resource = type.slice(0, -1) + 'ies'\n            break\n\n          case 'related':\n          case 'recommended':\n            // Graphs API\n            graphsApi = true\n            // also added to queue\n            resource = type\n            break\n\n          case 'items':\n            // Search API\n            promises.push(searchItems(store, el))\n            skip = true\n            break\n\n          default:\n            console.log('Ignored element, invalid type:')\n            console.log(el)\n            skip = true\n        }\n        if (skip === true) {\n          continue\n        }\n\n        // preset defaults\n        listAll = currentId = false\n        // try to define resource ID by element data\n        resourceId = el.dataset.id\n        if (!resourceId) {\n          if (resource === 'stores') {\n            // get current store info\n            resourceId = store.store_object_id\n          } else if (el.dataset.hasOwnProperty('listAll') && !graphsApi) {\n            // list all objects\n            listAll = true\n          } else {\n            // use object of current URI\n            if (!getCurrentObj) {\n              getCurrentObj = true\n            }\n            currentId = true\n          }\n        }\n\n        // schedule API request to element renderization\n        handleQueue.add(queue, el, resource, resourceId, listAll, currentId, graphsApi)\n      }\n\n      // start elements queue\n      if (getCurrentObj === true) {\n        var currentObj = {}\n        if (dom.location) {\n          var url = dom.location.pathname\n          if (url && url === getCookie('Ecom.current.path')) {\n            // try to get resource ID from backend cookies\n            currentObj.resource = getCookie('Ecom.current.resource')\n            currentObj._id = getCookie('Ecom.current._id')\n          }\n        }\n\n        if (!currentObj.resource || !currentObj._id) {\n          // get resource ID by current URI\n          EcomIo.mapByWindowUri(function (err, body) {\n            if (!err) {\n              promises.push(handleQueue.run(store, queue, body))\n            } else {\n              console.error(err)\n            }\n          })\n        } else {\n          // current object already setted\n          promises.push(handleQueue.run(store, queue, currentObj))\n        }\n      } else {\n        // just run the queue\n        promises.push(handleQueue.run(store, queue))\n      }\n    }\n  }\n\n  // store IDs undefineds, try to get from backend cookies\n  // https://github.com/ecomclub/dynamic-backend\n  if (!store.hasOwnProperty('store_id')) {\n    store.store_id = getCookie('Ecom.store_id')\n  }\n  if (store.store_id) {\n    if (!store.hasOwnProperty('store_object_id')) {\n      store.store_object_id = getCookie('Ecom.store_object_id')\n    }\n    if (!store.lang) {\n      store.lang = getCookie('Ecom.default_lang')\n    }\n  }\n\n  // initialize storefront SDK\n  EcomIo.init(sdkCallback, store.store_id, store.store_object_id)\n\n  // return new promise resolved after all elements\n  return Promise.all(promises)\n}\n","'use strict'\n\n// get document object\nconst { document } = require('./dom')\n\n// get cookie value by cookie name\nexports.getCookie = cname => {\n  // check for document cookies\n  const cookies = document.cookie\n\n  if (typeof cookies === 'string') {\n    // Ref.: https://www.w3schools.com/js/js_cookies.asp\n    let name = cname + '='\n    let decodedCookie = decodeURIComponent(cookies)\n    let ca = decodedCookie.split(';')\n    for (let i = 0; i < ca.length; i++) {\n      let c = ca[i]\n      while (c.charAt(0) === ' ') {\n        c = c.substring(1)\n      }\n      if (c.indexOf(name) === 0) {\n        return c.substring(name.length, c.length)\n      }\n    }\n  }\n\n  // cookie not found\n  // returns null by default\n  return null\n}\n\n// nested search on DOM by class\nconst findChildsByClass = (container, className, els) => {\n  // returns array of DOM elements\n  if (!Array.isArray(els)) {\n    els = []\n  }\n\n  if (container.childNodes) {\n    for (var i = 0; i < container.childNodes.length; i++) {\n      var el = container.childNodes[i]\n      var classes = el.classList\n      if (classes) {\n        for (var ii = 0; ii < classes.length; ii++) {\n          if (classes[ii] === className) {\n            // match\n            // el.deep = deep\n            els.push(el)\n            break\n          }\n        }\n      }\n\n      // go deeper\n      // recursive function\n      findChildsByClass(el, className, els)\n    }\n  }\n  return els\n}\nexports.findChildsByClass = findChildsByClass\n","'use strict'\n\n// E-Com Plus storefront SDK\nconst EcomIo = require('ecomplus-sdk')\n// render specific element\nconst render = require('./../')\n// handle items search through Search API\nconst searchItems = require('./search')\n\nexports.add = (queue, el, resource, resourceId, listAll, currentId, graphsApi) => {\n  let index\n  if (!listAll && !currentId) {\n    index = resourceId\n  } else {\n    // list all resource objects or use object of current URI\n    // no resource ID\n    index = resource\n    if (currentId) {\n      index += '&'\n    }\n  }\n  if (graphsApi) {\n    // request related or recommended products from Graphs API\n    index = resource + '/' + index\n  }\n\n  if (queue.hasOwnProperty(index)) {\n    if (queue[index].resource === resource) {\n      queue[index].els.push(el)\n    } else {\n      console.log('Ignored element, different types for same id (?):')\n      console.log(el)\n    }\n  } else {\n    // set on queue\n    queue[index] = {\n      resource: resource,\n      id: resourceId,\n      list: listAll,\n      current: currentId,\n      els: [ el ],\n      graphs: graphsApi\n    }\n  }\n}\n\nexports.run = (store, queue, currentObj) => {\n  // one promise for each queue object\n  let promises = []\n\n  let ioMethod\n  for (let index in queue) {\n    if (queue.hasOwnProperty(index)) {\n      promises.push(new Promise(resolve => {\n        let get = queue[index]\n        // request options\n        let resource = get.resource\n        let resourceId = get.id\n        let graphsApi = get.graphs\n        let els = get.els\n\n        let callback = (err, body) => {\n          if (!err) {\n            // one promise for each element on current queue object\n            let promises = []\n\n            els.forEach(el => {\n              if (graphsApi || el.dataset.hasOwnProperty('list')) {\n                // search items by IDs from resource field\n                let field = el.dataset.list\n                let ids\n                if (graphsApi) {\n                  // parse Graphs API response to array\n                  // https://developers.e-com.plus/docs/api/#/graphs/\n                  ids = []\n                  if (Array.isArray(body.results) && body.results.length) {\n                    let data = body.results[0].data\n                    if (data) {\n                      data.forEach(obj => ids.push(obj.row))\n                    }\n                  }\n                } else if (body.hasOwnProperty(field)) {\n                  ids = body[field]\n                }\n\n                // set data-ids\n                if (Array.isArray(ids)) {\n                  // implode array with separator ,\n                  el.dataset.ids = ids.join()\n                } else if (typeof ids === 'string') {\n                  // expect that the string already is a valid product object ID\n                  el.dataset.ids = ids\n                }\n\n                // send request to Search API\n                promises.push(searchItems(store, el, body))\n              } else {\n                // simple Store API object\n                promises.push(render(store, el, body))\n              }\n            })\n\n            if (get.current && body._id && typeof Ecom === 'object') {\n              // share current object globally\n              /* global Ecom */\n              Ecom.currentObject = body\n            }\n\n            // resolve parent promise after all elements\n            Promise.all(promises).then(resolve)\n          } else {\n            console.error(err)\n            // resolve the promise anyway\n            resolve()\n          }\n        }\n\n        if (!graphsApi) {\n          // default to Store API\n          if (!get.list) {\n            if (!get.current) {\n              // resource ID defined by element data\n              EcomIo.getById(callback, resource, resourceId)\n            } else if (resource === currentObj.resource) {\n              // current URI resource object\n              EcomIo.getById(callback, resource, currentObj._id)\n            } else {\n              console.log('Ignored elements, id undefined and unmatched URI:')\n              console.log(get.els)\n            }\n          } else {\n            // list all resource objects\n            // no resource ID\n            ioMethod = 'list' + resource.charAt(0).toUpperCase() + resource.slice(1)\n\n            if (EcomIo.hasOwnProperty(ioMethod)) {\n              EcomIo[ioMethod](callback)\n            } else {\n              console.log('Ignored elements, list all unavailable:')\n              console.log(get.els)\n            }\n          }\n        } else {\n          // handle requests to Graphs API\n          ioMethod = resource === 'related'\n            ? 'listRelatedProducts' : 'listRecommendedProducts'\n\n          if (!get.current) {\n            // product ID defined by element data\n            EcomIo[ioMethod](callback, resourceId)\n          } else if (currentObj.resource === 'products') {\n            // current URI product object\n            EcomIo[ioMethod](callback, currentObj._id)\n          } else {\n            console.log('Ignored elements, product id undefined for Graphs method:')\n            console.log(get.els)\n          }\n        }\n      }))\n    }\n  }\n\n  // return new promise resolved after entire queue\n  return Promise.all(promises)\n}\n"],"sourceRoot":""}